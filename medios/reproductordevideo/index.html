<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transmisi√≥n de Videos</title>
    <link rel="stylesheet" href="styles.css">


    
</head>
<body>
    <nav>
        <div class="logo">
            <img src="fotor-ai-20240722224837.jpg" alt="Logo" class="logo-img">
        </div>
        <ul>
            <li><a href="#">Inicio</a></li>
            <li><a href="#rese√±a">Rese√±a</a></li>
            <li><a href="#comentarios">Comentarios</a></li>

        </ul>
    </nav>
   

    <main class="layout">

        <!-- PUBLICIDAD IZQUIERDA -->
        <aside class="ads ads-left">
            <!-- 1 -->
            <div class="ad-box">
                <img src="fotor-ai-20240722224837.jpg" style="max-width:100%">
            </div>
            <!-- 2 -->
            <div class="ad-box">
                <img src="fotor-ai-20240722224837.jpg" style="max-width:100%">
            </div>
        </aside>

        <!-- CONTENIDO CENTRAL -->
        <section class="content">

            <h1>  T√≠tulo del Video: <span style="color: white;">Viy (pel√≠cula de 1967)</span></h1>


           <video id="videoPlayer" controls>
                <source 
                    src="https://www.dropbox.com/scl/fi/jere6awiy2xu64kcbw0yz/VIY__1967__Nicolai_Gogol...mp4?rlkey=hre0mut2izbccix81dfnsk9r2&dl=1"
                    type="video/mp4">
            </video>


            <!-- RESE√ëA -->
            <section class="review" id="rese√±a">
                <h2>Rese√±a del Video</h2>
                <p style="color:white;">
                    Viy (titulada en ingl√©s, Spirit of Evil[1] o Vii; en ruso: –í–∏–π) es una pel√≠cula de de terror sovi√©tica de 1967 dirigida por Konstant√≠n Yershov y Gueorgui Kropachov. Basada en la historia hom√≥nima de Nikol√°i G√≥gol, el guion de la pel√≠cula fue escrito por Yershov, Kropachov y Aleksandr Ptushk√≥. La pel√≠cula fue distribuida por Mosfilm, y fue la primera pel√≠cula de terror de la √©poca sovi√©tica oficialmente rodada y estrenada en la URSS.[2]
                    <br>




                    <br>




                    <span style="font-size: 7px; ">
                        1. Staff and Friends of Scarecrow Video (2004). The Scarecrow Movie Guide. Seattle: Sasquatch Books. p. 367. ISBN 1-57061-415-6. <br>
                        2. ¬´–ê–º—É—Ä.–∏–Ω—Ñ–æ¬ª. Archivado desde el original el 2 de enero de 2014. Consultado el 31 de enero de 2016.
                    </span>
                </p>

                <p style="color:white; text-align: justify;">
                    Cuando el alumnado del seminario de Kiev es enviado a casa por vacaciones, tres de ellos se pierden en el camino en medio de la noche. Al apreciar una granja en la distancia, se dirigen all√≠, preguntando a la anciana que aparece en la puerta si pueden pasar la noche. Est√° de acuerdo, a condici√≥n de que cada uno duerma en √°reas separadas de la granja. Cuando uno de ellos, Khoma Brutus, se acomoda en el establo para dormir, la mujer vieja se le acerca e intenta seducirle, a lo que √©l se niega. Entonces lo hechiza haciendo que se tienda de bruces para ella subirse a su espalda. Luego salen al campo corriendo como si √©l fuera su caballo. Khoma de repente descubre que est√°n volando y se da cuenta de que es una bruja. Exige que le baje y, apenas aterrizan, agarra la escoba de la vieja y la golpea furioso. Ella llora diciendo que se est√° muriendo y al mirarla, ve que se ha convertido en una hermosa joven. Horrorizado, sale corriendo de regreso al seminario. Por la ma√±ana, el rector le reclama. Le dice a Khoma que un rico cosaco tiene una hija agonizando y necesita oraciones para su alma, y que ella espec√≠ficamente ha pedido a Khoma por su nombre. √âl se niega a ir, pero el rector le amenaza con una paliza p√∫blica, por lo que cede y parte en el carro de los sirvientes que esperan, descubriendo que se dirigen a la granja donde conoci√≥ a la bruja. La chica muere justo antes de su llegada y para su horror, se da cuenta de que es la bruja, y que √©l es la causa de su muerte (pero no se lo dice a nadie). El padre de la chica le promete una gran recompensa si permanece en vela y orando por su alma las pr√≥ximas tres noches. Si no lo hace, insin√∫a un grave castigo. Despu√©s de los ritos funerarios y el traslado del cuerpo a la capilla, Khoma se da cuenta de que todos sospechan que la joven era una bruja. Al anochecer, es acompa√±ado a la capilla y encerrado para pasar la noche.

Apenas Khoma entra, varios gatos corren por el suelo a sus pies. Enciende todas las velas de la capilla para su comodidad, y luego empieza a recitar las oraciones por el alma de la chica. Hace una pausa para aspirar tabaco, pero el rap√© le hace estornudar, la chica abre los ojos y se baja del ata√∫d, busc√°ndole a ciegas (aparentemente, puede o√≠r pero no ver). Deprisa, el seminarista dibuja un c√≠rculo de tiza a su alrededor y este act√∫a como una barrera invisible con la que choca la mujer‚Äî la noche pasa con Khoma rogando fervientemente y la chica tratando de llegar a √©l. Cuando el gallo canta al alba, la joven regresa al ata√∫d y todas las velas se apagan.

Los hombres de la propiedad del hombre rico, quienes escoltan a Khoma hasta la capilla, abren, lo rodean y le preguntan qu√© ha pasado de noche, a lo que √©l responde, "No mucho. Solo algunos ruidos."

Khoma se pasa el d√≠a bebiendo para fortalecerse para la segunda noche. Esta vez, al entrar una bandada de p√°jaros vuelan fuera del ata√∫d, sorprendi√©ndolo y haci√©ndole correr hacia la puerta, que es cerrada por uno de los sirvientes del hombre rico. Khoma regresa al facistol de oraci√≥n port√°til y se lleva un susto cuando un p√°jaro vuela fuera de su libro de oraciones al abrirlo. Dibuja el c√≠rculo sagrado otra vez y empieza las oraciones. El ata√∫d se eleva en el aire y golpea contra la protecci√≥n invisible del c√≠rculo sagrado, provocando que Khoma, presa del p√°nico, clame a Dios que le proteja. La tapa del ata√∫d salta, y la chica se sienta y otra vez empieza a buscarlo a ciegas, pero una vez m√°s, no le puede ver o alcanzar. El ata√∫d contin√∫a volando alrededor de la habitaci√≥n con la chica de pie llamando a Khoma por su nombre. Cuando el gallo canta, el ata√∫d regresa a su sitio y la chica se acuesta, pero su voz se oye lanzando una maldici√≥n a Khoma, cuyo cabello se vuelve gris. Los hombres del rico cosaco le tienen que ayudar a levantarse del suelo y salir de la capilla, colocando un sombrero en su cabeza. Ya en la era de la granja, Khoma reclama m√∫sica y empieza a bailar fren√©tico mientras un joven muchacho toca la flauta. Se saca el sombrero, y todos los criados pueden ver su cabello gris. Pide hablar con su se√±or, diciendo que no quiere rezar m√°s en la capilla.

Khoma es llevado junto al hombre rico, al que intenta explicar qu√© ha pasado en la capilla y suplicando que lo deje marchar, pero el anfitri√≥n le amenaza con mil latigazos si se niega‚Äî y mil piezas de oro si tiene √©xito. A pesar de ello, Khoma intenta huir aprovechando el descanso de los sirvientes, pero toma un camino equivocado y se topa con los hombres del hombre rico, que le devuelven a la granja.

Regresa a la capilla por tercera noche, totalmente borracho, pero todav√≠a recuerda dibujar el c√≠rculo sagrado antes de empezar las oraciones. La chica se sienta en el ata√∫d y empieza a maldecirle, caus√°ndole visiones de esqueletos andantes y manos fantasmales. Invoca a varias figuras horrendas para atormentarlo, pero tampoco pueden traspasar el c√≠rculo. Ella finalmente llama al Viy, un nombre que hace que todos los demonios tiemblen de miedo. Un gran monstruo emerge, y ordena que le quiten sus enormes p√°rpados de delante de los ojos. Khoma se da cuenta de que no puede mirar este demonio o est√° perdido, pero finalmente no puede evitar hacerlo. El Viy es capaz de ver a Khoma, y lo se√±ala, permitiendo que todos los demonios se abalancen sobre √©l y lo golpeen pero cuando el gallo canta una vez m√°s, todos los demonios huyen, dejando a Khoma tendido inm√≥vil en el suelo. La chica se vuelve a convertir en una mujer vieja y se acuesta en el ata√∫d, el cual instant√°neamente se desmorona. El rector entra en la capilla y al ver semejante escena, sale corriendo para avisar a los dem√°s.

La √∫ltima escena muestra a los dos amigos de Khoma en el seminario, pintando algunas paredes. Uno ofrece beber en memoria del desafortunado Khoma, mientras el otro duda que Khoma est√© realmente muerto.
                </p>
            </section>

            <!-- COMENTARIOS -->
            <section class="comments" id="comentarios">
                <h2>Comentarios</h2>

                <form id="commentForm">
                    <input type="text" id="username" placeholder="Tu nombre" required>
                    <textarea id="commentText" placeholder="Escribe tu comentario..." required></textarea>
                    <button type="submit">Comentar</button>
                </form>

                <div id="commentList"></div>
            </section>

        </section>

        <!-- PUBLICIDAD DERECHA -->
        <aside class="ads ads-right">
            <!-- 1 -->
            <div class="ad-box">
                <img src="fotor-ai-20240722224837.jpg" style="max-width:100%">
            </div>
            <!-- 2 -->
            <div class="ad-box">
                <img src="fotor-ai-20240722224837.jpg" style="max-width:100%">
            </div>
        </aside>

    </main>







    <footer>
        <p>¬© 2024 Transmisi√≥n de Videos    ||||   Stephany la adoro muchooo!! ‚ù§Ô∏è </p>
    </footer>

   
<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, addDoc, deleteDoc, doc, updateDoc, onSnapshot } 
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

// Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
    apiKey: "AIzaSyBCS4O8wtmX-Tka2Hgs7oAnTYBaq9VpH_I",
    authDomain: "project-8810807216093517863.firebaseapp.com",
    projectId: "project-8810807216093517863",
    storageBucket: "project-8810807216093517863.firebasestorage.app",
    messagingSenderId: "500559534342",
    appId: "1:500559534342:web:83ed0664ecca03d78ba687",
    measurementId: "G-4YC0X9XD0T"
};


const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const commentsRef = collection(db, "comments");

const form = document.getElementById("commentForm");
const commentList = document.getElementById("commentList");

/* =========================
   GENERAR ID √öNICO USUARIO
========================= */

let userId = localStorage.getItem("userId");
if(!userId){
    userId = crypto.randomUUID();
    localStorage.setItem("userId", userId);
}

/* =========================
   ANTI-SPAM (30 SEGUNDOS)
========================= */

let lastCommentTime = 0;
const SPAM_INTERVAL = 30000; // 30s

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const now = Date.now();
  if(now - lastCommentTime < SPAM_INTERVAL){
    alert("Espera 30 segundos antes de comentar nuevamente.");
    return;
  }

  const username = document.getElementById("username").value.trim();
  const commentText = document.getElementById("commentText").value.trim();

  if (!username || !commentText) return;

  lastCommentTime = now;

  await addDoc(commentsRef, {
    user: username,
    text: commentText,
    likes: 0,
    likedBy: [],
    authorId: userId,
    date: new Date()
  });

  form.reset();
});

/* =========================
   TIEMPO REAL
========================= */

onSnapshot(commentsRef, (snapshot) => {

  commentList.innerHTML = "";

  snapshot.forEach((docSnap) => {
    const data = docSnap.data();
    const id = docSnap.id;

    const div = document.createElement("div");
    div.classList.add("comment-item");

    const alreadyLiked = data.likedBy?.includes(userId);

    div.innerHTML = `
      <strong>${data.user}</strong>
      <small> ‚Äî ${data.date?.toDate().toLocaleString()}</small>
      <p>${data.text}</p>

      <div class="comment-actions">
        <button class="like-btn" ${alreadyLiked ? "disabled" : ""}>
          ‚ù§Ô∏è ${data.likes}
        </button>

        ${data.authorId === userId ? 
          `<button class="delete-btn">üóë</button>` 
          : ""
        }
      </div>
    `;

    /* LIKE CONTROLADO */
    div.querySelector(".like-btn").addEventListener("click", async () => {

        if(alreadyLiked) return;

        await updateDoc(doc(db, "comments", id), {
            likes: data.likes + 1,
            likedBy: [...(data.likedBy || []), userId]
        });

    });

    /* BORRAR SOLO SI ES AUTOR */
    const deleteBtn = div.querySelector(".delete-btn");
    if(deleteBtn){
        deleteBtn.addEventListener("click", async () => {
            if(confirm("¬øEliminar comentario?")){
                await deleteDoc(doc(db, "comments", id));
            }
        });
    }

    commentList.prepend(div);
  });

});

</script>

      
  



</body>
</html>

